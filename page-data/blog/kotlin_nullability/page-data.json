{"componentChunkName":"component---src-components-post-js","path":"/blog/kotlin_nullability","result":{"data":{"markdownRemark":{"html":"<p>As an android developer, it is so enjoyable to work with Kotlinâ€™s type system. <code class=\"language-text\">NullPointerException</code> hell is something I am very glad to do away with, so with Kotlin's nullability support we are able to work not just more elegantly, but also avoiding dreaded NPEs.\nIn this post, I will briefly cover Kotlin's awesome built in null safety features that will make your NPE-less life a lot more pleasant ğŸ˜„</p>\n<p>A nullable type is any data type able to have <code class=\"language-text\">null</code> as its value. In Kotlin, we declare a nullable type with a question mark, <code class=\"language-text\">?</code></p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> item<span class=\"token operator\">:</span> MediaItem<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\nitem<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// âŒ this won't compile ğŸ‘</span></code></pre></div>\n<p>When accessing the property of a nullable variable, the type checker will report an error and the code won't compile. In order to properly test and work with nullable types, we have some options:</p>\n<h3>1. Check for <code class=\"language-text\">null</code></h3>\n<p>This is the same approach as we do so often in Java</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>item <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\titem<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// âœ… this is okğŸ‘Œ</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>2. Safe Call operator <code class=\"language-text\">?.</code></h3>\n<p>Safe calls are very useful when chaining different calls together, or on the left side of an assignment.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> item<span class=\"token operator\">:</span> MediaItem<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\nitem<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// âœ…</span></code></pre></div>\n<h3>3. The elvis operator <code class=\"language-text\">?:</code></h3>\n<p>We can assign a non-null value when our reference is of nullable type:</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> myInt<span class=\"token operator\">:</span> Int<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n<span class=\"token comment\">// give alternative value in case myInt is null</span>\n<span class=\"token keyword\">val</span> myLong<span class=\"token operator\">:</span> Long <span class=\"token operator\">=</span> myInt<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">toLong</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?:</span> <span class=\"token number\">0L</span>\n\n<span class=\"token comment\">// this is the equivalent to expression above</span>\n<span class=\"token keyword\">val</span> myLong2 <span class=\"token operator\">:</span> Long <span class=\"token operator\">=</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>myInt <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> myInt <span class=\"token keyword\">else</span> <span class=\"token number\">0L</span></code></pre></div>\n<h3>4. The dreaded <code class=\"language-text\">!!</code> operator.</h3>\n<p> âš ï¸ This not-null assertion operator is really dangerous, so only use it whenâ€¦</p>\n<div style=\"width:100%;height:0;padding-bottom:82%;position:relative;\"><iframe src=\"https://giphy.com/embed/KhliiAkDFP9YY\" width=\"100%\" height=\"100%\" style=\"position:absolute\" frameBorder=\"0\" class=\"giphy-embed\" allowFullScreen></iframe></div><p><a href=\"https://giphy.com/gifs/KhliiAkDFP9YY\">via GIPHY</a></p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// ğŸ˜¡ğŸ˜¡ğŸ˜¡</span>\n<span class=\"token keyword\">val</span> item<span class=\"token operator\">:</span> MediaItem<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\nitem<span class=\"token operator\">!!</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// ğŸ˜¾ will throw exception if value is null</span></code></pre></div>\n<p>Lastly, using <code class=\"language-text\">?.</code> allows us to throw different types of exceptions, however, <code class=\"language-text\">!!</code> will only be able to throw a <code class=\"language-text\">NullPointerException</code></p>\n<p>You can learn more about null safety in Kotlin here <a href=\"https://kotlinlang.org/docs/tutorials/kotlin-for-py/null-safety.html\">Null safety - Kotlin Programming Language</a></p>","frontmatter":{"title":"Null Safety in Kotlin","date":"01/13/20"}},"meta":{"siteMetadata":{"title":"Muriel Gonzalez","url":"https://murielg.github.io"}}},"pageContext":{"pathSlug":"/blog/kotlin_nullability"}}}